

查看当前正在执行的查询:
SHOW PROCESSLIST;


查看当前会话的 SQL 模式:
SELECT @@sql_mode;

设置当前会话的 SQL 模式:
SET @@sql_mode = 'STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';




------------------启用慢查询日志-----------------
编辑 MySQL 配置文件（通常是 my.cnf 或 my.ini），添加或修改以下参数：
[mysqld]
slow_query_log = 1
slow_query_log_file = /path/to/your/mysql-slow.log
long_query_time = 2  # 记录执行时间超过2秒的查询

重新启动 MySQL 服务以使配置生效：
sudo service mysql restart

如果慢查询日志已启用，你可以直接查看日志文件。使用以下命令查看最新的慢查询：
tail -n 100 /path/to/your/mysql-slow.log

或者你可以使用 mysqldumpslow 工具来汇总慢查询日志的内容：
mysqldumpslow -s c -t 10 /path/to/your/mysql-slow.log

在不重启 MySQL 服务的情况下动态启用或禁用慢查询日志：
SET GLOBAL slow_query_log = 'ON';
SET GLOBAL slow_query_log_file = '/path/to/your/mysql-slow.log';
SET GLOBAL long_query_time = 2;



